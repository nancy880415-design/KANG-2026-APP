<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ä»Šå¹´ä¹Ÿæ¯å¤©é€²æ­¥ä¸€é»é»</title>
    
    <!-- --- æ‰‹æ©Ÿä¸»ç•«é¢åœ–ç¤º (PWA è¨­å®š) --- -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="KANG's2026">
    
    <!-- é€™è£¡å°±æ˜¯ ICON çš„ç¨‹å¼ç¢¼ä½ç½® -->
    <!-- è«‹ç¢ºä¿æ‚¨çš„ GitHub æ ¹ç›®éŒ„æœ‰ä¸€å¼µåç‚º icon.png çš„åœ–ç‰‡ -->
    <link rel="apple-touch-icon" href="./icon.png">
    <link rel="icon" type="image/png" href="./icon.png">
    
    <!-- å¦‚æœæ‚¨æƒ³ç›´æ¥ç”¨ç¶²è·¯åœ–ç‰‡ç¶²å€ï¼Œå¯ä»¥æŠŠä¸Šé¢çš„ href æ”¹æˆç¶²å€ï¼Œä¾‹å¦‚ï¼š
    <link rel="apple-touch-icon" href="https://example.com/my-icon.png"> 
    -->

    <!-- æ ¸å¿ƒç’°å¢ƒè¼‰å…¥ -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap" rel="stylesheet">
    
    <style>
        body { 
            font-family: 'Noto Sans TC', sans-serif; 
            -webkit-tap-highlight-color: transparent; 
            background-color: #f7f2ed;
            margin: 0;
            overflow-x: hidden;
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        input[type="date"]::-webkit-inner-spin-button,
        input[type="date"]::-webkit-calendar-picker-indicator {
            display: none;
            -webkit-appearance: none;
        }
        .fade-entry {
            animation: fadeIn 0.4s ease-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .progress-ring-circle {
            transition: stroke-dashoffset 1s cubic-bezier(0.4, 0, 0.2, 1);
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(203, 145, 74, 0.2);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;

        // --- 1. Firebase é…ç½® ---
        const firebaseConfig = {
            apiKey: "AIzaSyDLeH52pL_lGEhj41ejj59nEL5ge4MxsGk",
            authDomain: "kangs-2026.firebaseapp.com",
            projectId: "kangs-2026",
            storageBucket: "kangs-2026.firebasestorage.app",
            messagingSenderId: "1002873615830",
            appId: "1:1002873615830:web:54825d42280a09c367e077"
        };

        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        const auth = firebase.auth();
        const db = firebase.firestore();
        const appId = "kang2026";

        // --- 2. ç©©å®šç‰ˆ SVG åœ–æ¨™ ---
        const Icons = {
            Calendar: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/></svg>,
            Heart: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill={p.fill || "none"} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/></svg>,
            Star: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill={p.fill || "none"} stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>,
            Award: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></svg>,
            Settings: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/></svg>,
            Message: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>,
            ChevronLeft: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><polyline points="15 18 9 12 15 6"/></svg>,
            ChevronRight: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><polyline points="9 18 15 12 9 6"/></svg>,
            Trash: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>,
            Check: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><polyline points="20 6 9 17 4 12"/></svg>,
            Upload: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" x2="12" y1="3" y2="15"/></svg>,
            Image: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>,
            Sparkles: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="m12 3 1.912 5.813a2 2 0 0 0 1.275 1.275L21 12l-5.813 1.912a2 2 0 0 0-1.275 1.275L12 21l-1.912-5.813a2 2 0 0 0-1.275-1.275L3 12l5.813-1.912a2 2 0 0 0 1.275-1.275L12 3Z"/></svg>,
            Coffee: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="M17 8h1a4 4 0 1 1 0 8h-1"/><path d="M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V8z"/><line x1="6" x2="6" y1="2" y2="4"/><line x1="10" x2="10" y1="2" y2="4"/><line x1="14" x2="14" y1="2" y2="4"/></svg>,
            Globe: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><circle cx="12" cy="12" r="10"/><line x1="2" x2="22" y1="12" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>,
            Activity: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>,
            BookOpen: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>,
            Edit: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>,
            Save: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>,
            Send: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><line x1="22" x2="11" y1="2" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>,
            Logout: (p) => <svg width={p.size || 24} height={p.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...p}><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" x2="9" y1="12" y2="12"/></svg>
        };

        // --- 3. æ ¸å¿ƒé‚è¼¯ ---
        function App() {
            const [user, setUser] = useState(null);
            const [activeTab, setActiveTab] = useState('daily');
            const [selectedDate, setSelectedDate] = useState(new Date().toISOString().split('T')[0]);
            const [tasks, setTasks] = useState([]);
            const [gratitude, setGratitude] = useState([]);
            const [letters, setLetters] = useState([]);
            const [visions, setVisions] = useState([]);
            const [moodLogs, setMoodLogs] = useState({});
            const [loading, setLoading] = useState(true);
            
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');
            const [isRegistering, setIsRegistering] = useState(false);
            const [errorMsg, setErrorMsg] = useState('');

            const categories = ['å‰¯æ¥­äº‹æ¥­', 'èªè¨€å­¸ç¿’', 'å¥åº·é«”é­„', 'å¿ƒéˆæˆé•·', 'ä¼‘é–’æ¨‚è¶£'];
            const categoryColors = {
                'å‰¯æ¥­äº‹æ¥­': '#cb914a',
                'èªè¨€å­¸ç¿’': '#86a0bb',
                'å¥åº·é«”é­„': '#5b8e7d',
                'å¿ƒéˆæˆé•·': '#14233a',
                'ä¼‘é–’æ¨‚è¶£': '#c0b8b4'
            };

            // ç›£è½ç™»å…¥ç‹€æ…‹
            useEffect(() => {
                const unsubscribe = auth.onAuthStateChanged((u) => {
                    setUser(u);
                    setLoading(false);
                });
                return () => unsubscribe();
            }, []);

            // è³‡æ–™åŒæ­¥
            useEffect(() => {
                if (!user) return;
                const userRef = db.collection('artifacts').doc(appId).collection('users').doc(user.uid);
                
                const unsubTasks = userRef.collection('tasks').onSnapshot(snap => {
                    const taskList = snap.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                    setTasks(taskList);
                    if (taskList.length === 0 && !snap.metadata.fromCache) {
                        const defaults = [
                            { title: "å‰¯æ¥­é€²åº¦é–‹ç™¼", category: "å‰¯æ¥­äº‹æ¥­", frequency: "æ¯æ—¥", type: "å¤§é …ç›®", targetCount: 100, createdAt: new Date().toISOString(), completedDates: [] },
                            { title: "å¤–èªè½åŠ›ä¿®ç…‰", category: "èªè¨€å­¸ç¿’", frequency: "æ¯æ—¥", type: "å¤§é …ç›®", targetCount: 100, createdAt: new Date().toISOString(), completedDates: [] },
                            { title: "æ ¸å¿ƒé«”èƒ½è¨“ç·´", category: "å¥åº·é«”é­„", frequency: "æ¯æ—¥", type: "å¤§é …ç›®", targetCount: 100, createdAt: new Date().toISOString(), completedDates: [] }
                        ];
                        defaults.forEach(d => userRef.collection('tasks').add(d));
                    }
                }, err => console.error("Firebase Sync Error:", err));

                const unsubVisions = userRef.collection('visions').onSnapshot(snap => setVisions(snap.docs.map(d => ({ id: d.id, ...d.data() }))));
                const unsubGratitude = userRef.collection('gratitude').orderBy('createdAt', 'desc').onSnapshot(snap => setGratitude(snap.docs.map(d => ({ id: d.id, ...d.data() }))));
                const unsubLetters = userRef.collection('letters').orderBy('createdAt', 'desc').onSnapshot(snap => setLetters(snap.docs.map(d => ({ id: d.id, ...d.data() }))));
                const unsubMood = userRef.collection('moods').onSnapshot(snap => {
                    const moods = {}; snap.docs.forEach(d => moods[d.id] = d.data()); setMoodLogs(moods);
                });

                return () => { unsubTasks(); unsubVisions(); unsubGratitude(); unsubLetters(); unsubMood(); };
            }, [user]);

            const handleAuthAction = async (e) => {
                e.preventDefault();
                setErrorMsg('');
                try {
                    if (isRegistering) {
                        await auth.createUserWithEmailAndPassword(email, password);
                    } else {
                        await auth.signInWithEmailAndPassword(email, password);
                    }
                } catch (err) {
                    let msg = err.message;
                    // --- ä¿®æ­£å ±éŒ¯å¼•å°é‚è¼¯ ---
                    if (err.code === 'auth/email-already-in-use') {
                        msg = "æ­¤ä¿¡ç®±å·²è¨»å†Šéï¼è«‹é»æ“Šä¸‹æ–¹åˆ‡æ›ç‚ºã€Œç™»å…¥æ¨¡å¼ã€ã€‚";
                    } else if (err.code === 'auth/wrong-password') {
                        msg = "å¯†ç¢¼éŒ¯èª¤ï¼Œè«‹å†è©¦ä¸€æ¬¡ã€‚";
                    } else if (err.code === 'auth/user-not-found') {
                        msg = "æ‰¾ä¸åˆ°å¸³è™Ÿï¼Ÿè«‹å…ˆé»æ“Šä¸‹æ–¹åˆ‡æ›ç‚ºã€Œè¨»å†Šæ¨¡å¼ã€ã€‚";
                    }
                    setErrorMsg(msg);
                }
            };

            const handleTaskToggle = async (task) => {
                if (!user) return;
                const dates = task.completedDates || [];
                const isDone = dates.includes(selectedDate);
                const newDates = isDone ? dates.filter(d => d !== selectedDate) : [...dates, selectedDate];
                await db.collection('artifacts').doc(appId).collection('users').doc(user.uid).collection('tasks').doc(task.id).update({ completedDates: newDates });
            };

            const saveVision = async (data) => {
                if (!user) return;
                await db.collection('artifacts').doc(appId).collection('users').doc(user.uid).collection('visions').doc('primary').set({ ...data, updatedAt: new Date().toISOString() });
            };

            const activeVision = useMemo(() => visions.find(v => v.id === 'primary') || visions[0], [visions]);

            const NavBtn = ({ id, icon: IconComp, label }) => (
                <button onClick={() => setActiveTab(id)} className={`flex flex-col items-center gap-1 transition-all duration-300 flex-1 py-3 rounded-[2.5rem] ${activeTab === id ? 'bg-[#cb914a] text-white scale-105 shadow-lg' : 'text-[#86a0bb] hover:text-white'}`}>
                    <IconComp size={18} />
                    <span className="text-[10px] font-black">{label}</span>
                </button>
            );

            if (loading) return <div className="h-screen flex items-center justify-center bg-[#f7f2ed] font-black text-[#cb914a] animate-pulse text-lg tracking-widest">åŒæ­¥ 2026 é »ç‡ä¸­...</div>;

            // ç™»å…¥/è¨»å†Šä»‹é¢
            if (!user) return (
                <div className="min-h-screen flex items-center justify-center bg-[#f7f2ed] px-8 py-12">
                    <div className="w-full max-w-sm glass-card p-10 rounded-[3.5rem] shadow-2xl space-y-8 fade-entry">
                        <div className="text-center space-y-2">
                            <h1 className="text-3xl font-black text-[#14233a] tracking-tighter uppercase">KANG's 2026</h1>
                            <p className="text-[10px] text-[#cb914a] font-bold uppercase tracking-[0.4em]">æ¯å¤©é€²æ­¥ä¸€é»é»</p>
                        </div>
                        <form onSubmit={handleAuthAction} className="space-y-4">
                            <div className="text-center mb-2">
                                <span className={`text-[11px] font-black px-4 py-1 rounded-full ${!isRegistering ? 'bg-[#14233a] text-white' : 'text-[#86a0bb]'}`}>ç™»å…¥</span>
                                <span className="mx-2 text-[#c0b8b4]">|</span>
                                <span className={`text-[11px] font-black px-4 py-1 rounded-full ${isRegistering ? 'bg-[#14233a] text-white' : 'text-[#86a0bb]'}`}>è¨»å†Š</span>
                            </div>
                            <input type="email" placeholder="é›»å­ä¿¡ç®±" value={email} onChange={e => setEmail(e.target.value)} required className="w-full p-4 bg-[#f7f2ed] border-none rounded-2xl text-sm font-bold shadow-inner focus:ring-1 ring-[#cb914a]" />
                            <input type="password" placeholder="å¯†ç¢¼" value={password} onChange={e => setPassword(e.target.value)} required className="w-full p-4 bg-[#f7f2ed] border-none rounded-2xl text-sm font-bold shadow-inner focus:ring-1 ring-[#cb914a]" />
                            {errorMsg && <p className="text-red-500 text-[10px] font-black px-2 leading-relaxed text-center">{errorMsg}</p>}
                            <button type="submit" className="w-full py-4 bg-[#14233a] text-white rounded-2xl font-black shadow-lg active:scale-95 transition-all mt-2">
                                {isRegistering ? 'å•Ÿå‹•è¨»å†Š' : 'ç™»å…¥ç©ºé–“'}
                            </button>
                        </form>
                        <div className="text-center pt-2 border-t border-black/5">
                            <button onClick={() => { setIsRegistering(!isRegistering); setErrorMsg(''); }} className="text-[11px] font-black text-[#86a0bb] uppercase tracking-widest border-b border-[#86a0bb]/30 pb-1">
                                {isRegistering ? 'å·²æœ‰å¸³è™Ÿï¼Ÿé»æ­¤åˆ‡æ›ç™»å…¥' : 'ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Ÿé»æ­¤åˆ‡æ›è¨»å†Š'}
                            </button>
                        </div>
                    </div>
                </div>
            );

            return (
                <div className="min-h-screen bg-[#f7f2ed] text-[#2d2d2d] font-sans pb-32">
                    <header className="sticky top-0 z-50 bg-[#f7f2ed]/70 backdrop-blur-xl border-b-[0.5px] border-[#c0b8b4] p-6 flex justify-between items-center">
                        <div>
                            <h1 className="text-2xl font-black text-[#14233a] tracking-tight">KANG'S 2026</h1>
                            <p className="text-[10px] text-[#cb914a] font-bold tracking-[0.2em] uppercase">KANG'S 2026 å°ˆå±¬APP</p>
                        </div>
                        <div className="flex items-center gap-4">
                            <button onClick={() => auth.signOut()} className="text-[#c0b8b4] hover:text-[#14233a] transition-colors"><Icons.Logout size={20} /></button>
                            <div className="w-10 h-10 rounded-full bg-[#14233a] flex items-center justify-center text-white shadow-inner">
                                <Icons.Heart size={20} fill="currentColor" />
                            </div>
                        </div>
                    </header>

                    <main className="max-w-xl mx-auto p-6">
                        {activeTab === 'daily' && <DailyView selectedDate={selectedDate} setSelectedDate={setSelectedDate} tasks={tasks} onToggle={handleTaskToggle} moodLogs={moodLogs} updateMood={(m) => db.collection('artifacts').doc(appId).collection('users').doc(user.uid).collection('moods').doc(selectedDate).set({ mood: m, updatedAt: new Date().toISOString() })} vision={activeVision} />}
                        {activeTab === 'matrix' && <ProgressView tasks={tasks} vision={activeVision} categories={categories} colors={categoryColors} />}
                        {activeTab === 'tasks' && <TaskManagement tasks={tasks} saveVision={saveVision} vision={activeVision} db={db} appId={appId} user={user} categories={categories} />}
                        {activeTab === 'gratitude' && <GratitudeBox gratitude={gratitude} db={db} appId={appId} user={user} selectedDate={selectedDate} />}
                        {activeTab === 'future' && <LetterBoard letters={letters} db={db} appId={appId} user={user} />}
                    </main>

                    <nav className="fixed bottom-8 left-1/2 -translate-x-1/2 w-[92%] max-w-md bg-[#14233a] rounded-[3rem] p-2 shadow-2xl flex justify-between items-center z-[100]">
                        <NavBtn id="daily" active={activeTab === 'daily'} icon={Icons.Calendar} label="ä»Šæ—¥" />
                        <NavBtn id="matrix" active={activeTab === 'matrix'} icon={Icons.Award} label="é€²åº¦" />
                        <NavBtn id="tasks" active={activeTab === 'tasks'} icon={Icons.Settings} label="ç›®æ¨™" />
                        <NavBtn id="gratitude" active={activeTab === 'gratitude'} icon={Icons.Star} label="æ„Ÿæ©" />
                        <NavBtn id="future" active={activeTab === 'future'} icon={Icons.Message} label="ç•™è¨€" />
                    </nav>
                </div>
            );
        }

        // --- å­çµ„ä»¶ï¼šä»Šæ—¥ ---
        function DailyView({ selectedDate, setSelectedDate, tasks, onToggle, moodLogs, updateMood, vision }) {
            const dayTasks = tasks.filter(t => t.frequency === 'æ¯æ—¥' || (t.completedDates || []).includes(selectedDate));
            const currentMood = moodLogs[selectedDate]?.mood || null;

            return (
                <div className="space-y-6 fade-entry">
                    <div className="relative w-full aspect-[9/16] max-h-[85vh] rounded-[2.5rem] overflow-hidden shadow-2xl border-[0.5px] border-[#c0b8b4] bg-white mx-auto">
                        {vision?.base64 ? (
                            <img src={vision.base64} className="w-full h-full object-cover" />
                        ) : (
                            <div className="w-full h-full flex flex-col items-center justify-center text-[#c0b8b4]">
                                <Icons.Image size={40} strokeWidth={1} />
                                <p className="text-[12px] mt-3 font-black uppercase tracking-widest text-center px-6 opacity-60">è«‹åœ¨ç›®æ¨™åˆ†é è¨­å®šé¡˜æ™¯è—åœ–</p>
                            </div>
                        )}
                        <div className="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-80" />
                        <div className="absolute bottom-10 left-8 right-8 text-white">
                            <p className="text-[11px] font-black uppercase tracking-[0.3em] opacity-60 mb-2">2026 å¯¦ç›¸é¡¯åŒ–ä¸­</p>
                            <p className="text-2xl font-black leading-tight drop-shadow-md">{vision?.title || 'æ­£åœ¨ä¸‹è¼‰æœªä¾†...'}</p>
                        </div>
                    </div>

                    <div className="bg-white p-5 rounded-[2.5rem] border-[0.5px] border-[#c0b8b4] shadow-sm flex items-center justify-between">
                        <button onClick={() => { let d = new Date(selectedDate); d.setDate(d.getDate()-1); setSelectedDate(d.toISOString().split('T')[0]); }} className="p-2 hover:bg-[#f7f2ed] rounded-full transition-colors"><Icons.ChevronLeft size={24}/></button>
                        <div className="text-center">
                            <input type="date" value={selectedDate} onChange={e => setSelectedDate(e.target.value)} className="font-black text-lg text-[#14233a] border-none bg-transparent text-center focus:ring-0" />
                            <p className="text-[9px] font-black text-[#cb914a] uppercase tracking-widest">ä»Šæ—¥ä¿®ç…‰é€²åº¦</p>
                        </div>
                        <button onClick={() => { let d = new Date(selectedDate); d.setDate(d.getDate()+1); setSelectedDate(d.toISOString().split('T')[0]); }} className="p-2 hover:bg-[#f7f2ed] rounded-full transition-colors"><Icons.ChevronRight size={24}/></button>
                    </div>

                    <div className="flex justify-around bg-white p-4 rounded-[2.5rem] border-[0.5px] border-[#c0b8b4] shadow-sm">
                        {['ğŸŒ¤ï¸', 'â˜ï¸', 'ğŸŒ§ï¸', 'âš¡', 'ğŸŒ™'].map(m => (
                            <button key={m} onClick={() => updateMood(m)} className={`text-3xl transition-all duration-300 hover:scale-125 ${currentMood === m ? 'scale-125 opacity-100' : 'opacity-20 grayscale'}`}>{m}</button>
                        ))}
                    </div>

                    <div className="space-y-4">
                        {dayTasks.map(task => {
                            const isDone = (task.completedDates || []).includes(selectedDate);
                            const totalDone = task.completedDates?.length || 0;
                            const target = parseInt(task.targetCount) || 100;
                            const progress = Math.min((totalDone / target) * 100, 100);
                            return (
                                <div key={task.id} onClick={() => onToggle(task)} className={`group flex flex-col p-5 rounded-[2.5rem] border-[0.5px] cursor-pointer transition-all duration-500 active:scale-95 ${isDone ? 'bg-[#5b8e7d] border-transparent text-white shadow-lg translate-y-1' : 'bg-white border-[#c0b8b4] hover:shadow-md'}`}>
                                    <div className="flex items-center justify-between w-full mb-3">
                                        <div className="flex items-center gap-4">
                                            <CategoryIcon category={task.category} active={isDone} />
                                            <div>
                                                <h4 className="font-bold text-sm tracking-tight">{task.title}</h4>
                                                <p className={`text-[9px] font-bold tracking-widest ${isDone ? 'opacity-60' : 'text-[#86a0bb]'}`}>{task.type || 'å°é …ç›®'} â€¢ {task.category}</p>
                                            </div>
                                        </div>
                                        <div className={`w-8 h-8 rounded-full flex items-center justify-center transition-all ${isDone ? 'bg-white/20' : 'bg-[#f7f2ed]'}`}>
                                           <Icons.Check size={20} className={isDone ? 'text-white' : 'text-[#c0b8b4]'} />
                                        </div>
                                    </div>
                                    <div className={`w-full h-1 rounded-full overflow-hidden ${isDone ? 'bg-white/20' : 'bg-[#f7f2ed]'}`}>
                                        <div className={`h-full transition-all duration-1000 ${isDone ? 'bg-white' : 'bg-[#cb914a]'}`} style={{ width: `${progress}%` }} />
                                    </div>
                                </div>
                            );
                        })}
                    </div>
                </div>
            );
        }

        // --- å­çµ„ä»¶ï¼šé€²åº¦ ---
        function ProgressView({ tasks, vision, categories, colors }) {
            const overallProgress = useMemo(() => {
                if (tasks.length === 0) return 0;
                const totalDone = tasks.reduce((acc, t) => acc + (t.completedDates?.length || 0), 0);
                const totalTarget = tasks.reduce((acc, t) => acc + (parseInt(t.targetCount) || 100), 0);
                return Math.min((totalDone / totalTarget) * 100, 100);
            }, [tasks]);

            const categoryData = useMemo(() => {
                return categories.map(cat => {
                    const catTasks = tasks.filter(t => t.category === cat);
                    if (catTasks.length === 0) return { name: cat, percent: 0 };
                    const totalDone = catTasks.reduce((acc, t) => acc + (t.completedDates?.length || 0), 0);
                    const totalTarget = catTasks.reduce((acc, t) => acc + (parseInt(t.targetCount) || 100), 0);
                    return { name: cat, percent: Math.min((totalDone / totalTarget) * 100, 100) };
                });
            }, [tasks, categories]);

            return (
                <div className="space-y-8 fade-entry pb-10">
                    <section className="bg-[#14233a] p-10 rounded-[3.5rem] text-white shadow-2xl relative overflow-hidden text-center">
                        <div className="absolute top-0 right-0 p-8 opacity-10"><Icons.Sparkles size={140} /></div>
                        <p className="text-[11px] text-[#cb914a] font-black uppercase tracking-[0.4em] mb-3">å¹´åº¦ç¸½é¡¯åŒ–ç‡</p>
                        <h3 className="text-6xl font-black mb-10 tracking-tighter">{overallProgress.toFixed(1)}%</h3>
                        <div className="relative w-full aspect-[9/16] max-h-[65vh] rounded-[2.5rem] overflow-hidden bg-white/5 border border-white/10 mb-10 mx-auto shadow-inner">
                           {vision?.base64 ? <img src={vision.base64} className="w-full h-full object-cover transition-all duration-1000" style={{ filter: `grayscale(${100 - overallProgress}%) brightness(${0.7 + (overallProgress/100) * 0.3})` }} /> : <div className="flex items-center justify-center h-full opacity-10"><Icons.Image size={64} /></div>}
                        </div>
                        <div className="w-full h-3 bg-white/10 rounded-full overflow-hidden shadow-inner p-0.5">
                           <div className="h-full bg-gradient-to-r from-[#86a0bb] via-[#cb914a] to-[#cb914a] rounded-full transition-all duration-1000 shadow-[0_0_20px_rgba(203,145,74,0.5)]" style={{ width: `${overallProgress}%` }} />
                        </div>
                    </section>

                    <div className="space-y-4">
                        <h4 className="text-[12px] font-black text-[#14233a] uppercase px-4 tracking-[0.3em] text-center mb-6">ä»Šå¹´çš„ç›®æ¨™ç‹€æ…‹</h4>
                        <div className="grid grid-cols-1 gap-4">
                            {categoryData.map(cd => (
                                <div key={cd.name} className="glass-card p-6 rounded-[3rem] shadow-sm flex items-center justify-between group transition-all hover:shadow-md">
                                    <div className="flex items-center gap-5">
                                        <div className="relative w-16 h-16 flex items-center justify-center">
                                            <svg className="w-16 h-16">
                                                <circle cx="32" cy="32" r="28" fill="none" stroke="rgba(0,0,0,0.03)" strokeWidth="4" />
                                                <circle cx="32" cy="32" r="28" fill="none" stroke={colors[cd.name]} strokeWidth="4" strokeDasharray="175.9" strokeDashoffset={175.9 - (175.9 * cd.percent) / 100} strokeLinecap="round" className="progress-ring-circle" />
                                            </svg>
                                            <div className="absolute inset-0 flex items-center justify-center">
                                                <CategoryIcon category={cd.name} size={20} />
                                            </div>
                                        </div>
                                        <div>
                                            <p className="text-[14px] font-black text-[#14233a] tracking-tight">{cd.name}</p>
                                            <p className="text-[9px] font-bold text-[#86a0bb] uppercase tracking-widest mt-0.5">èƒ½é‡æ ¡æº–ä¸­</p>
                                        </div>
                                    </div>
                                    <div className="text-right">
                                        <p className="text-2xl font-black tracking-tighter" style={{ color: colors[cd.name] }}>{cd.percent.toFixed(0)}<span className="text-[10px] ml-0.5 opacity-40">%</span></p>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        }

        // --- å­çµ„ä»¶ï¼šç›®æ¨™ä¸­å¿ƒ ---
        function TaskManagement({ tasks, saveVision, vision, db, appId, user, categories }) {
            const [newTitle, setNewTitle] = useState('');
            const [newCat, setNewCat] = useState('å‰¯æ¥­äº‹æ¥­');
            const [newType, setNewType] = useState('å°é …ç›®');
            const [newFreq, setNewFreq] = useState('æ¯æ—¥');
            const [newTarget, setNewTarget] = useState(100);
            const fileRef = useRef();

            const add = async () => {
                if(!newTitle) return;
                await db.collection('artifacts').doc(appId).collection('users').doc(user.uid).collection('tasks').add({
                    title: newTitle, category: newCat, type: newType, frequency: newFreq, targetCount: parseInt(newTarget),
                    completedDates: [], createdAt: new Date().toISOString(), isRecurring: true
                });
                setNewTitle('');
            };

            const handleUpload = (e) => {
                const file = e.target.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = (ev) => {
                    const img = new Image();
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        const MAX_WIDTH = 720;
                        const scale = MAX_WIDTH / img.width;
                        canvas.width = MAX_WIDTH; canvas.height = img.height * scale;
                        const ctx = canvas.getContext('2d'); ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                        saveVision({ base64: canvas.toDataURL('image/jpeg', 0.8), title: vision?.title || 'æˆ‘çš„ 2026 ç”Ÿæ´»' });
                    };
                    img.src = ev.target.result;
                };
                reader.readAsDataURL(file);
            };

            return (
                <div className="space-y-8 fade-entry pb-10">
                    <section className="bg-white p-8 rounded-[3rem] border-[0.5px] border-[#cb914a] space-y-6 shadow-sm">
                        <h3 className="font-black text-lg flex items-center gap-3 text-[#14233a]"><Icons.Image size={20} className="text-[#cb914a]"/>é¡˜æ™¯è—åœ–è¨­å®š</h3>
                        <div className="space-y-4">
                            <input value={vision?.title || ''} onChange={(e) => saveVision({...vision, title: e.target.value})} className="w-full p-4 rounded-2xl bg-[#f7f2ed] border-none text-sm font-bold shadow-inner focus:ring-1 ring-[#cb914a]" placeholder="é¡˜æ™¯åç¨±..." />
                            <button onClick={() => fileRef.current.click()} className="w-full bg-[#14233a] text-white p-4 rounded-[1.5rem] font-black text-sm flex items-center justify-center gap-2 active:scale-95 transition-all shadow-md">
                                <Icons.Upload size={18}/> ä¸Šå‚³è—åœ– (9:16)
                            </button>
                            <input type="file" ref={fileRef} onChange={handleUpload} accept="image/*" className="hidden" />
                        </div>
                    </section>
                    
                    <section className="bg-white p-8 rounded-[3rem] border-[0.5px] border-[#c0b8b4] space-y-4 shadow-sm">
                        <h3 className="font-black text-lg text-[#14233a]">ç›®æ¨™</h3>
                        <input value={newTitle} onChange={e => setNewTitle(e.target.value)} className="w-full p-4 rounded-2xl bg-[#f7f2ed] border-none font-bold text-sm shadow-inner" placeholder="ç›®æ¨™åç¨±..." />
                        <div className="grid grid-cols-2 gap-3">
                            <div className="space-y-1">
                                <p className="text-[9px] font-bold px-2 text-[#86a0bb] uppercase">é¡åˆ¥</p>
                                <select value={newCat} onChange={e => setNewCat(e.target.value)} className="w-full p-3 bg-[#f7f2ed] rounded-xl text-[10px] font-black border-none appearance-none">
                                    {categories.map(c => <option key={c} value={c}>{c}</option>)}
                                </select>
                            </div>
                            <div className="space-y-1">
                                <p className="text-[9px] font-bold px-2 text-[#86a0bb] uppercase">è¦æ¨¡</p>
                                <select value={newType} onChange={e => setNewType(e.target.value)} className="w-full p-3 bg-[#f7f2ed] rounded-xl text-[10px] font-black border-none appearance-none">
                                    <option value="å¤§é …ç›®">å¤§é …ç›®</option><option value="å°é …ç›®">å°é …ç›®</option>
                                </select>
                            </div>
                            <div className="space-y-1">
                                <p className="text-[9px] font-bold px-2 text-[#86a0bb] uppercase">é€±æœŸ</p>
                                <select value={newFreq} onChange={e => setNewFreq(e.target.value)} className="w-full p-3 bg-[#f7f2ed] rounded-xl text-[10px] font-black border-none appearance-none">
                                    <option value="æ¯æ—¥">æ¯æ—¥</option><option value="æ¯é€±">æ¯é€±</option><option value="æ¯æœˆ">æ¯æœˆ</option>
                                </select>
                            </div>
                            <div className="space-y-1">
                                <p className="text-[9px] font-bold px-2 text-[#86a0bb] uppercase">ç›®æ¨™é”æˆæ¬¡æ•¸</p>
                                <input type="number" value={newTarget} onChange={e => setNewTarget(e.target.value)} className="w-full p-3 rounded-xl bg-[#f7f2ed] border-none text-[10px] font-black" />
                            </div>
                        </div>
                        <button onClick={add} className="w-full bg-[#cb914a] text-white p-4 rounded-2xl font-black shadow-lg active:scale-95 transition-all">å•Ÿå‹•è¨ˆç•«</button>
                    </section>

                    <div className="space-y-4 px-1">
                        {tasks.map(t => (
                            <div key={t.id} className="bg-white p-5 rounded-[2.5rem] border-[0.5px] border-[#c0b8b4] flex justify-between items-center shadow-sm">
                                <div className="flex items-center gap-4">
                                    <CategoryIcon category={t.category} />
                                    <div><p className="font-bold text-sm leading-tight">{t.title}</p><p className="text-[9px] font-black text-[#86a0bb] uppercase tracking-widest">{t.type} â€¢ {t.frequency}</p></div>
                                </div>
                                <button onClick={() => db.collection('artifacts').doc(appId).collection('users').doc(user.uid).collection('tasks').doc(t.id).delete()} className="text-red-200 p-2 hover:text-red-400 transition-colors"><Icons.Trash size={16} /></button>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        // --- å­çµ„ä»¶ï¼šæ„Ÿæ© ---
        function GratitudeBox({ gratitude, db, appId, user, selectedDate }) {
            const [text, setText] = useState('');
            return (
                <div className="space-y-8 fade-entry pb-10 text-center">
                    <div className="relative h-72 bg-[#14233a] rounded-[4rem] border-8 border-white shadow-xl flex flex-col items-center justify-center overflow-hidden">
                        <div className="absolute top-6 px-4 py-1 bg-[#cb914a] rounded-full text-[9px] font-black text-white uppercase tracking-widest shadow-lg">æ„Ÿæ©å¾®å…‰ä¸­å¿ƒ</div>
                        <div className="flex flex-wrap gap-2 p-10 justify-center">
                            {gratitude.slice(0, 50).map((_, i) => <Icons.Star key={i} size={14} className="text-[#cb914a]" fill="#cb914a" />)}
                        </div>
                        <p className="text-[10px] text-white/40 font-black tracking-widest mb-4 uppercase">å·²æ”¶é›† {gratitude.length} é¡†æ˜Ÿæ˜Ÿ</p>
                    </div>
                    <div className="bg-white p-6 rounded-[3rem] border-[0.5px] border-[#c0b8b4] shadow-sm space-y-4">
                        <textarea value={text} onChange={e => setText(e.target.value)} placeholder="ä»Šæ—¥å€¼å¾—æ„Ÿæ©çš„å°äº‹ï¼Ÿ" className="w-full p-6 rounded-[2rem] bg-[#f7f2ed] border-none shadow-inner min-h-[140px] text-sm font-bold resize-none" />
                        <button onClick={async () => { if(text) { await db.collection('artifacts').doc(appId).collection('users').doc(user.uid).collection('gratitude').add({ text, date: selectedDate, createdAt: new Date().toISOString() }); setText(''); } }} className="w-full bg-[#14233a] text-white p-5 rounded-[2.5rem] font-black shadow-lg active:scale-95 transition-all">æŠ•é€²å„²å­˜ç®±</button>
                    </div>
                    <div className="space-y-4 text-left px-2">
                        <h3 className="font-black text-lg text-[#14233a] mt-8 mb-4 px-2 tracking-widest uppercase">æ„Ÿæ©æ—¥è¨˜</h3>
                        {gratitude.map(g => (
                            <div key={g.id} className="bg-white p-6 rounded-[2.5rem] border-[0.5px] border-[#c0b8b4] shadow-sm mb-4">
                                <p className="text-sm font-bold leading-relaxed text-[#14233a]">{g.text}</p>
                                <div className="flex justify-between items-center mt-4 pt-3 border-t-[0.5px] border-[#f7f2ed]"><span className="text-[9px] text-[#86a0bb] font-black uppercase">{new Date(g.createdAt).toLocaleDateString()}</span><button onClick={() => db.collection('artifacts').doc(appId).collection('users').doc(user.uid).collection('gratitude').doc(g.id).delete()} className="text-red-200"><Icons.Trash size={14}/></button></div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        // --- å­çµ„ä»¶ï¼šç•™è¨€æ¿ ---
        function LetterBoard({ letters, db, appId, user }) {
            const [text, setText] = useState('');
            const [editingId, setEditingId] = useState(null);

            const handleSave = async () => {
                if(!text) return;
                const ref = db.collection('artifacts').doc(appId).collection('users').doc(user.uid).collection('letters');
                if(editingId) await ref.doc(editingId).update({ content: text });
                else await ref.add({ content: text, createdAt: new Date().toISOString() });
                setText(''); setEditingId(null);
            };

            return (
                <div className="space-y-8 fade-entry">
                    <div className="bg-white p-4 rounded-[3rem] border-[0.5px] border-[#c0b8b4] shadow-md flex items-center gap-3 pr-2">
                        <textarea value={text} onChange={e => setText(e.target.value)} placeholder="çµ¦ 2026 å¹´åº•çš„æˆ‘..." className="flex-1 bg-transparent border-none text-sm font-bold p-4 h-14 resize-none focus:ring-0" />
                        <button onClick={handleSave} className="bg-[#cb914a] text-white p-4 rounded-full shadow-lg active:scale-90 transition-all">
                            {editingId ? <Icons.Save size={20}/> : <Icons.Send size={20}/>}
                        </button>
                    </div>
                    <div className="space-y-6">
                        {letters.map((l, i) => (
                            <div key={l.id} className="relative bg-white p-8 rounded-[2.5rem] shadow-sm border-[0.5px] border-[#c0b8b4]">
                                <div className="absolute -top-3 left-8 px-4 py-1 bg-[#14233a] text-white text-[9px] font-black rounded-full shadow-md uppercase">ä¿¡ä»¶ #{letters.length - i}</div>
                                <p className="text-sm font-bold leading-relaxed text-[#14233a]">{l.content}</p>
                                <div className="flex justify-between items-center mt-6 pt-4 border-t-[0.5px] border-[#f7f2ed]">
                                    <span className="text-[10px] opacity-30 font-bold uppercase">{new Date(l.createdAt).toLocaleDateString()}</span>
                                    <div className="flex gap-4">
                                        <button onClick={() => { setText(l.content); setEditingId(l.id); window.scrollTo({top: 0, behavior: 'smooth'}); }} className="text-[#cb914a] p-1"><Icons.Edit size={14}/></button>
                                        <button onClick={() => db.collection('artifacts').doc(appId).collection('users').doc(user.uid).collection('letters').doc(l.id).delete()} className="text-red-200 p-1"><Icons.Trash size={14}/></button>
                                    </div>
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        }

        function CategoryIcon({ category, size = 18, active }) {
            const icons = { 'å‰¯æ¥­äº‹æ¥­': Icons.Coffee, 'èªè¨€å­¸ç¿’': Icons.Globe, 'å¥åº·é«”é­„': Icons.Activity, 'å¿ƒéˆæˆé•·': Icons.Heart, 'ä¼‘é–’æ¨‚è¶£': Icons.Star };
            const Comp = icons[category] || Icons.BookOpen;
            const colorMap = { 'å‰¯æ¥­äº‹æ¥­': '#cb914a', 'èªè¨€å­¸ç¿’': '#86a0bb', 'å¥åº·é«”é­„': '#5b8e7d', 'å¿ƒéˆæˆé•·': '#14233a', 'ä¼‘é–’æ¨‚è¶£': '#c0b8b4' };
            return <div className={`p-3 rounded-2xl ${active ? 'bg-white/30' : 'bg-[#f7f2ed]'} transition-all`}><Comp size={size} style={{ color: active ? 'white' : colorMap[category] }} strokeWidth={3}/></div>;
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>